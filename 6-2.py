inpt = [
"to 461,550 through 564,900",
"of 370,039 through 425,839",
"of 464,858 through 833,915",
"of 812,389 through 865,874",
"on 599,989 through 806,993",
"on 376,415 through 768,548",
"on 606,361 through 892,600",
"of 448,208 through 645,684",
"to 050,472 through 452,788",
"to 205,417 through 703,826",
"to 533,331 through 906,873",
"to 857,493 through 989,970",
"of 631,950 through 894,975",
"of 387,019 through 720,700",
"of 511,843 through 581,945",
"to 514,557 through 662,883",
"of 269,809 through 876,847",
"of 149,517 through 716,777",
"of 994,939 through 998,988",
"to 467,662 through 555,957",
"on 952,417 through 954,845",
"on 565,226 through 944,880",
"on 214,319 through 805,722",
"to 532,276 through 636,847",
"to 619,080 through 689,507",
"on 390,706 through 884,722",
"to 017,634 through 537,766",
"to 706,440 through 834,441",
"to 318,207 through 499,530",
"to 698,185 through 830,343",
"to 566,679 through 744,716",
"to 347,482 through 959,482",
"to 039,799 through 981,872",
"on 583,543 through 846,710",
"of 367,664 through 595,872",
"on 805,439 through 964,995",
"to 209,584 through 513,802",
"of 106,497 through 266,770",
"on 975,002 through 984,623",
"of 316,684 through 369,876",
"of 030,309 through 259,554",
"of 399,680 through 861,942",
"to 227,740 through 850,829",
"on 386,603 through 552,879",
"of 703,795 through 791,963",
"of 573,803 through 996,878",
"of 993,939 through 997,951",
"on 809,221 through 869,723",
"of 038,720 through 682,751",
"of 318,732 through 720,976",
"to 088,459 through 392,654",
"of 865,654 through 911,956",
"to 264,284 through 857,956",
"of 281,776 through 610,797",
"to 492,660 through 647,910",
"of 879,703 through 925,981",
"of 772,414 through 974,518",
"on 694,041 through 755,096",
"on 452,406 through 885,881",
"of 107,905 through 497,910",
"of 647,222 through 910,532",
"on 679,040 through 845,358",
"of 144,205 through 556,362",
"on 871,804 through 962,878",
"on 545,676 through 545,929",
"of 316,716 through 413,941",
"to 488,826 through 755,971",
"to 957,832 through 976,992",
"to 857,770 through 905,964",
"to 319,198 through 787,673",
"on 832,813 through 863,844",
"on 818,296 through 818,681",
"on 071,699 through 091,960",
"of 838,578 through 967,928",
"to 440,856 through 507,942",
"to 121,970 through 151,974",
"to 391,192 through 659,751",
"on 078,210 through 681,419",
"on 324,591 through 593,939",
"to 159,366 through 249,760",
"of 617,167 through 954,601",
"to 484,607 through 733,657",
"on 587,096 through 888,819",
"of 680,984 through 941,991",
"on 800,512 through 968,691",
"of 123,588 through 853,603",
"on 001,862 through 507,912",
"on 699,839 through 973,878",
"of 848,089 through 887,893",
"to 344,353 through 462,403",
"on 780,731 through 841,760",
"to 693,973 through 847,984",
"to 989,936 through 996,958",
"to 168,475 through 206,963",
"on 742,683 through 769,845",
"to 768,116 through 987,396",
"on 190,364 through 617,526",
"of 470,266 through 530,839",
"to 122,497 through 969,645",
"of 492,432 through 827,790",
"on 505,636 through 957,820",
"on 295,476 through 698,958",
"to 063,298 through 202,396",
"on 157,315 through 412,939",
"of 069,789 through 134,837",
"of 678,335 through 896,541",
"to 140,516 through 842,668",
"of 697,585 through 712,668",
"to 507,832 through 578,949",
"on 678,279 through 886,621",
"to 449,744 through 826,910",
"of 835,354 through 921,741",
"to 924,878 through 985,952",
"on 666,503 through 922,905",
"on 947,453 through 961,587",
"to 525,190 through 795,654",
"of 062,320 through 896,362",
"on 021,458 through 972,536",
"on 446,429 through 821,970",
"to 376,423 through 805,455",
"to 494,896 through 715,937",
"on 583,270 through 667,482",
"of 183,468 through 280,548",
"to 623,289 through 750,524",
"on 836,706 through 967,768",
"on 419,569 through 912,908",
"on 428,260 through 660,433",
"of 683,627 through 916,816",
"on 447,973 through 866,980",
"on 688,607 through 938,990",
"on 245,187 through 597,405",
"of 558,843 through 841,942",
"of 325,666 through 713,834",
"to 672,606 through 814,935",
"of 161,812 through 490,954",
"on 950,362 through 985,898",
"on 143,022 through 205,821",
"on 089,762 through 607,790",
"to 234,245 through 827,303",
"on 065,599 through 764,997",
"on 232,466 through 965,695",
"on 739,122 through 975,590",
"of 206,112 through 940,558",
"to 690,365 through 988,552",
"on 907,438 through 977,691",
"of 838,809 through 944,869",
"on 222,012 through 541,832",
"to 337,066 through 669,812",
"on 732,821 through 897,912",
"to 182,862 through 638,996",
"on 955,808 through 983,847",
"to 346,227 through 841,696",
"on 983,270 through 989,756",
"of 874,849 through 876,905",
"of 007,760 through 678,795",
"to 973,977 through 995,983",
"of 911,961 through 914,976",
"on 913,557 through 952,722",
"of 607,933 through 939,999",
"on 226,604 through 517,622",
"of 003,564 through 344,842",
"to 340,578 through 428,610",
"on 248,916 through 687,925",
"to 650,185 through 955,965",
"to 831,359 through 933,536",
"of 544,614 through 896,953",
"to 648,939 through 975,997",
"on 464,269 through 710,521",
"of 643,149 through 791,320",
"of 875,549 through 972,643",
"of 953,969 through 971,972",
"of 236,474 through 772,591",
"to 313,212 through 489,723",
"to 896,829 through 897,837",
"to 544,449 through 995,905",
"of 278,645 through 977,876",
"of 887,947 through 946,977",
"on 342,861 through 725,935",
"on 636,316 through 692,513",
"to 857,470 through 950,528",
"of 736,196 through 826,889",
"on 017,878 through 850,987",
"on 142,968 through 169,987",
"on 046,470 through 912,853",
"on 182,252 through 279,941",
"to 261,143 through 969,657",
"of 069,600 through 518,710",
"on 372,379 through 779,386",
"to 867,391 through 911,601",
"of 174,287 through 900,536",
"to 951,842 through 993,963",
"of 626,733 through 985,827",
"to 622,070 through 666,291",
"of 980,671 through 985,835",
"of 477,063 through 910,072",
"of 779,039 through 940,142",
"on 986,570 through 997,638",
"to 842,805 through 943,985",
"of 890,886 through 976,927",
"of 893,172 through 897,619",
"of 198,780 through 835,826",
"to 202,209 through 219,291",
"of 193,052 through 833,283",
"to 414,427 through 987,972",
"on 375,231 through 668,236",
"of 646,598 through 869,663",
"to 271,462 through 414,650",
"of 679,121 through 845,467",
"to 076,847 through 504,904",
"of 015,617 through 509,810",
"to 248,105 through 312,451",
"of 126,546 through 922,879",
"on 531,831 through 903,872",
"to 602,431 through 892,792",
"of 795,223 through 892,623",
"to 167,721 through 533,929",
"to 813,251 through 998,484",
"to 064,640 through 752,942",
"on 155,955 through 892,985",
"on 251,329 through 996,497",
"of 341,716 through 462,994",
"to 760,127 through 829,189",
"on 086,413 through 408,518",
"to 340,102 through 918,558",
"of 441,642 through 751,889",
"on 785,292 through 845,325",
"of 123,389 through 725,828",
"on 905,073 through 983,270",
"of 807,086 through 879,276",
"to 500,866 through 864,916",
"on 809,366 through 828,534",
"to 219,356 through 720,617",
"of 320,964 through 769,990",
"of 903,167 through 936,631",
"to 300,137 through 333,693",
"to 005,675 through 755,848",
"of 852,235 through 946,783",
"to 355,556 through 941,664",
"on 810,830 through 867,891",
"of 509,869 through 667,903",
"to 769,400 through 873,892",
"on 553,614 through 810,729",
"on 179,873 through 589,962",
"of 466,866 through 768,926",
"to 143,943 through 465,984",
"to 182,380 through 569,552",
"of 735,808 through 917,910",
"on 731,802 through 910,847",
"of 522,074 through 731,485",
"on 444,127 through 566,996",
"of 232,962 through 893,979",
"of 231,492 through 790,976",
"on 874,567 through 943,684",
"to 911,840 through 990,932",
"to 547,895 through 667,935",
"of 093,294 through 648,636",
"of 190,902 through 532,970",
"of 451,530 through 704,613",
"to 936,774 through 937,775",
"of 116,843 through 533,934",
"on 950,906 through 986,993",
"on 910,051 through 945,989",
"on 986,498 through 994,945",
"of 125,324 through 433,704",
"of 060,313 through 075,728",
"on 899,494 through 940,947",
"to 832,316 through 971,817",
"to 994,983 through 998,984",
"to 023,353 through 917,845",
"to 174,799 through 658,859",
"of 490,878 through 534,887",
"of 623,963 through 917,975",
"to 721,333 through 816,975",
"to 589,687 through 890,921",
"on 936,388 through 948,560",
"of 485,017 through 655,610",
"on 435,158 through 689,495",
"on 192,934 through 734,936",
"of 299,723 through 622,847",
"to 484,160 through 812,942",
"of 245,754 through 818,851",
"on 298,419 through 824,634",
"to 868,687 through 969,760",
"to 131,250 through 685,426",
"of 201,954 through 997,983",
"on 353,910 through 832,961",
"of 518,781 through 645,875",
"of 866,097 through 924,784",
"to 836,599 through 857,767",
"on 080,957 through 776,968",
"to 277,130 through 513,244",
"of 062,266 through 854,434",
"on 792,764 through 872,842",
"of 160,949 through 273,989",
"of 664,203 through 694,754",
"to 491,615 through 998,836",
"of 210,146 through 221,482",
"of 209,780 through 572,894",
"on 766,112 through 792,868",
"on 222,012 through 856,241"
]

"""
lights = []
seqStart = 0
seqStop = 0
onCtr = 0
x1 = 0
y1 = 0
x2 = 0
y1 = 0
size = 999

for x in xrange((size+1)*(size+1)):
    lights.append(False)

for y in xrange(len(inpt)):

    currentLine = inpt[y]
    print(currentLine)
    x1 = int(currentLine[3:6])
    y1 = int(currentLine[7:10])
    x2 = int(currentLine[19:22])
    y2 = int(currentLine[23:26])

    print(x1)
    print(y1)
    print(x2)
    print(y2)
    seqStart = (size+1) * x1 + y1
    seqStop = (size+1) * x2 + y2

    if currentLine[:2] == "on":
        for x in xrange(seqStart, seqStop):
            lights[x] = True
    if currentLine[:2] == "of":
        for x in xrange(seqStart, seqStop):
            lights[x] = False
    if currentLine[:2] == "to":
        for x in xrange(seqStart, seqStop):
            if lights[x] == True:
                lights[x] = False
            elif lights[x] == False:
                lights[x] = True
    print("seqStart =", seqStart)
    print("seqStop =", seqStop)
    #print(lights[:3])
    #print(lights[3:6])
    #print(lights[6:9])

for m in xrange(len(lights)):
    if lights[m] == True:
        onCtr += 1
print(onCtr)
#print(lights)


#720359 too high
"""
ctr = 0

lights = []
lines = []
for y in xrange(1000):
    lines = []
    for x in xrange(1000):
        lines.append(0)
    lights.append(lines)

for l in xrange(len(inpt)):
    currentLine = inpt[l]
    #print(currentLine)
    x1 = int(currentLine[3:6])
    y1 = int(currentLine[7:10])
    x2 = int(currentLine[19:22])
    y2 = int(currentLine[23:26])
    #print(x1, y1, x2, y2)

    if currentLine[:2] == "on":
        for b in xrange(y1, y2+1):
            for a in xrange(x1, x2+1):
                lights[b][a] += 1

    if currentLine[:2] == "of":
        for b in xrange(y1, y2+1):
            for a in xrange(x1, x2+1):
                if lights[b][a] > 0:
                    lights[b][a] -= 1

    if currentLine[:2] == "to":
        for b in xrange(y1, y2+1):
            for a in xrange(x1, x2+1):
                lights[b][a] +=2

#print(lights[0][:10])
ctr = 0
for y in xrange(1000):
    for x in xrange(1000):
        ctr += lights[y][x]

print(ctr)
